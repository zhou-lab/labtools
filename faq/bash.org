* how to use basic calculator (bc) in unix
-l load standard math library
bc -l <<< "5*7/3"
11.6666
$ result=$(echo "scale=2; 5 * 7 /3;" | bc)
$ echo $result
11.66

* multiple sed replacement in one command
use -e
find . -type f -exec sed -i '' -e s/Red/$color1/g -e s/Blue/$color2/g {} \;


* how to reverse grep?
tac file | grep

* convert rows to columns

A1
B1
C1

A2
B2
C2

=>
A1 B1 C1
A2 B2 C2

awk 'ORS=(NR%8==0)?"\n":"\t"{print $1}'

* delete character in line using tr
tr -d "\n"
remove all newline characters.
* how to sort with header
(head -n 2 <file> && tail -n +3 <file> | sort) > newfile
* how to extract from string
** use expr
http://tldp.org/LDP/abs/html/string-manipulation.html
expr $a : '.*\(Tumor-[0-9]*\).*'
and
http://stackoverflow.com/questions/9597751/using-match-to-find-substrings-in-strings-with-only-bash
** use BASH_REMATCH (better, no need to put .* in front and after the regular expression)
[[ $a =~ Tumor-([0-9]*) ]] && echo $BASH_REMATCH

* convert blank, space to tab
tr -s [:blank:] \\t
* join lines in a file
** perl -ne 'chomp;print;' file
** tr -d '\n' < file
** awk '{printf $0;}' file
** paste -s --delimiters="" file
** sed -e :a  -e 'N;s/\n//;ta'  file
* how to show line end and tab
cat -te
* how to squeeze blank lines
cat -s
* how to expand path
readlink -f ~/reference/hs37d5/hs37d5.fa
gives
/scratch/bcb/wzhou1/reference/hs37d5/hs37d5.fa
* how to print pattern to pattern using sed and awk
sed -n '/StartPattern/,/EndPattern/p' FileName
awk '/StartPattern/,/EndPattern/' FileName
* how to delete first/last line
delete first line
tail -n +2 "$FILE"
or
sed -i -e "1d" $FILE
or
perl -ni -e 'print unless $. == 1' filename.txt

delete last line
sed -i '$ d' foo.txt
$ means "the last line in the file". When specifying a location (called "range" in sed lingo) before a command, that command is only applied to the specified location. So, this command explicitly says "in the range of the last line in a file, delete it
* how to print a non-sequential number of lines
$ sed -n -e 1,2p -e 4p somefile.txt
Line 1
Line 2
Line 4
* how to add some text to a given line
add new text in the first line
sed -e '1s/$/new text/' yourfile.txt 
* how to remove blank lines
grep -v "^$" file.txt
sed '/^$/d' file.txt
awk '/./' file.txt
tr -s '\n' < file.txt
* Add Commas and Convert Column to Row
# add commas and print in one line
echo $(awk 'NR > 1{print line", "}{line=$0;}END{print $0" "}' file)
I Love Bash, I Love Bash, I Love Bash
* print range but exclude patterns
exclude both starting and ending pattern
$ cat file
AIX
Solaris
Unix
Linux
HPUX
$ sed -n '/Solaris/,/HPUX/{//!p;}' file
Unix
Linux

exclude ending pattern
sed -n '/chrM/,/GL000207.1/{/GL000207.1/!p}' /scratch/bcb/wzhou1/reference/hs37d5/hs37d5.fa > hs37d5.fa.chrM
